(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,a,t){},192:function(e,a,t){},240:function(e,a,t){e.exports=t(444)},444:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(29),l=t.n(r),i=t(42),c=t(12),m=t(454),s=t(447),u=t(453),p=t(118),d=(t(150),t(21)),E=t(452),g=t(455),v=t(456),f=t(457),j=t(174),h=function(e,a){return null===a?(localStorage.removeItem("info"),b):Object(j.a)(Object(j.a)({},e),a)},b={loggedIn:!1,token:"",role:!1},k=JSON.parse(localStorage.getItem("info")),y=o.a.createContext();function O(e){var a=Object(n.useReducer)(h,k||b),t=Object(c.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)((function(){localStorage.setItem("info",JSON.stringify(r))}),[r]),o.a.createElement(y.Provider,{value:{info:r,setInfo:l}},e.children)}var x=function(e){var a,t,r=Object(n.useContext)(y),l=r.info,i=r.setInfo;return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"navContainer"},(a=l.loggedIn,t=l.role,a&&"STUDENT"==t?o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/myposts"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(v.a,null),"Moji oglasi")),o.a.createElement(d.b,{to:"/profile"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(v.a,null),"Uredi profil")),o.a.createElement(d.b,{to:"/recievedlikesposts"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){return e.removeLikes()}},o.a.createElement(v.a,null),"Dobiveni lajkovi",o.a.createElement(E.a,{count:e.likes,dot:!0}))),o.a.createElement(d.b,{to:"/confirmswap"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){return e.removeSwaps()}},o.a.createElement(v.a,null),"Mogu\u0107e zamjene",o.a.createElement(E.a,{count:e.swaps,dot:!0}))),o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){i({loggedIn:!1,role:!1,token:""})}},o.a.createElement(v.a,null),"Odjava")))):a?o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton",onClick:function(){i({loggedIn:!1,role:!1,token:""})}},o.a.createElement(v.a,null),"Odjava")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/login"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(v.a,null),"Prijavi se")),o.a.createElement(d.b,{to:"/register"},o.a.createElement(p.a,{type:"text",className:"navButton"},o.a.createElement(f.a,null),"Registriraj se")))))},N=t(451),S=t(458);var w=function(e){var a,t,r=Object(n.useContext)(y),l=r.info,i=r.setInfo,m=Object(n.useState)(!1),s=Object(c.a)(m,2),u=s[0],j=s[1],h=function(){j(!1)};return o.a.createElement("div",null,o.a.createElement(p.a,{className:"navContainerMobile",type:"text",onClick:function(){j(!0)},style:{color:"#fff"}},o.a.createElement(S.a,{style:{fontSize:"24px"}})),o.a.createElement(N.a,{title:"RoomSwitchr",width:200,closable:!0,onClose:h,visible:u},(a=l.loggedIn,t=l.role,console.log("loggedIn, role"),console.log(a),console.log(t),a&&"STUDENT"==t?(console.log("JA SAM STUDENT"),o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/myposts"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(v.a,null),"Moji oglasi")),o.a.createElement(d.b,{to:"/profile"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(v.a,null),"Uredi profil")),o.a.createElement(d.b,{to:"/recievedlikesposts"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){return e.removeLikes()}},o.a.createElement(v.a,null),"Dobiveni lajkovi",o.a.createElement(E.a,{count:e.likes,dot:!0}))),o.a.createElement(d.b,{to:"/confirmswap"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){return e.removeSwaps()}},o.a.createElement(v.a,null),"Mogu\u0107e zamjene",o.a.createElement(E.a,{count:e.swaps,dot:!0}))),o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){j(!0),i({loggedIn:!1,role:!1,token:""})}},o.a.createElement(v.a,null),"Odjava"))))):a?(console.log("JA SAM DJELATNIK"),o.a.createElement(o.a.Fragment,null," ",o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:function(){j(!0),i({loggedIn:!1,role:!1,token:""})}},o.a.createElement(v.a,null),"Odjava")))):(console.log("JA NISAM NI\u0160TA"),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"/"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(g.a,null),"Po\u010detna")),o.a.createElement(d.b,{to:"/login"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(v.a,null),"Prijavi se")),o.a.createElement(d.b,{to:"/register"},o.a.createElement(p.a,{type:"text",className:"navButtonMobile",onClick:h},o.a.createElement(f.a,null),"Registriraj se")))))))},I=t(10),P=t.n(I);var F=function(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)(0)),r=Object(c.a)(t,2),l=r[0],i=r[1],m=Object(n.useState)(0),s=Object(c.a)(m,2),u=s[0],p=s[1],E=function(){P.a.post("".concat("https://room-switchr.herokuapp.com","/api/home/notification/like"),{},{headers:{Authorization:"Bearer "+a.token}}).then((function(e){i(0)})).catch((function(e){}))},g=function(){P.a.post("".concat("https://room-switchr.herokuapp.com","/api/home/notification/swap"),{},{headers:{Authorization:"Bearer "+a.token}}).then((function(e){p(0)})).catch((function(e){}))};return Object(n.useEffect)((function(){console.log(a.role),a.loggedIn&&"STUDENT"==a.role&&(P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/notification/like"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){i(e.data)})).catch((function(e){})),P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/notification/swap"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){p(e.data)})).catch((function(e){})))}),[]),o.a.createElement("div",{className:"nav"},o.a.createElement("img",{alt:"logo",src:"/room.png",className:"navLogo"}),o.a.createElement(d.b,{to:"/"},o.a.createElement("span",{className:"navName"},"RoomSwitchr")),o.a.createElement(x,{likes:l,swaps:u,removeLikes:E,removeSwaps:g}),o.a.createElement(w,{likes:l,swaps:u,removeLikes:E,removeSwaps:g}))},A=t(62),C=t.n(A),z=t(80),B=t(446),M=t(237),D=t(167),T=t(459),U=t(460),L=t(461),Q=B.a.Meta;t(191);var K=function(e){var a="Dom: "+e.title,t=e.idOglas,r=e.kategorija_sobe,l=e.kat,i=e.paviljon,m=e.username,s=e.email,u=Object(n.useContext)(y),p=u.info,d=(u.setInfo,Object(n.useState)()),E=Object(c.a)(d,2),g=(E[0],E[1],Object(n.useState)(!1)),v=Object(c.a)(g,2),f=v[0],j=v[1],h=Object(n.useState)(!1),b=Object(c.a)(h,2),k=b[0],O=b[1],x=Object(n.useState)(!1),N=Object(c.a)(x,2),S=N[0],w=N[1],I=function(){var e=Object(z.a)(C.a.mark((function e(a,t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={oglasId:a,stupanjLajkanja:t},e.prev=1,e.next=4,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/home/"),n,{headers:{Authorization:"Bearer "+p.token}}).then((function(e){switch(e.data.stupanjLajkanja){case 1:j(!0),O(!1),w(!1);break;case 2:j(!1),O(!0),w(!1);break;case 3:j(!1),O(!1),w(!0);break;case 0:j(!1),O(!1),w(!1)}}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),M.a.error({message:"Gre\u0161ka",description:"Do\u0161lo je do gre\u0161ke prilikom lajkanja oglasa. Provjerite svoj aktivni oglas."});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a,t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a;1==(a=e.lajk)&&j(!0),2==a&&O(!0),3==a&&w(!0)}),[]),o.a.createElement("div",null,p.loggedIn?o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"},actions:[f?o.a.createElement("div",{onClick:function(){return I(t,"0")}},o.a.createElement(T.a,null)):o.a.createElement("div",{onClick:function(){return I(t,"1")}},o.a.createElement(U.a,null)),k?o.a.createElement("div",{onClick:function(){return I(t,"0")}},o.a.createElement(T.a,null),o.a.createElement(T.a,null)):o.a.createElement("div",{onClick:function(){return I(t,"2")}},o.a.createElement(U.a,null),o.a.createElement(U.a,null)),S?o.a.createElement("div",{onClick:function(){return I(t,"0")}},o.a.createElement(T.a,null),o.a.createElement(T.a,null),o.a.createElement(T.a,null)):o.a.createElement("div",{onClick:function(){return I(t,"3")}},o.a.createElement(U.a,null),o.a.createElement(U.a,null),o.a.createElement(U.a,null)),o.a.createElement("div",{className:"App"},o.a.createElement("p",{"data-tip":!0,"data-for":"registerTip",onClick:function(){P.a.post("".concat("https://room-switchr.herokuapp.com","/api/home/"),{stupanjLajkanja:"4",oglasId:t},{headers:{Authorization:"Bearer "+p.token}}).then((function(e){}))}},o.a.createElement(L.a,null)),o.a.createElement(D.a,{id:"registerTip",place:"top",effect:"solid"},"Ne prikazuj vi\u0161e"))]},o.a.createElement(Q,{title:a,description:o.a.createElement(o.a.Fragment,{style:{width:"100%"}},o.a.createElement("div",{style:{width:"70%",float:"left"}},o.a.createElement("p",null,"Paviljon:\xa0",i),o.a.createElement("p",null,"Kat:\xa0 ",l),o.a.createElement("p",null,"Kategorija sobe:\xa0",r)),o.a.createElement("div",{style:{width:"30%",float:"right"}},o.a.createElement("p",null,"Korisni\u010dko ime:\xa0",m),o.a.createElement("p",null,"E-mail:\xa0",s)))})):o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"}},o.a.createElement(Q,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon:\xa0",i),o.a.createElement("p",null,"Kat:\xa0",l),o.a.createElement("p",null,"Kategorija sobe:\xa0",r),o.a.createElement("p",null,"Korisni\u010dko ime:\xa0",m),o.a.createElement("p",null,"E-mail:\xa0",s))})),o.a.createElement("br",null))},G=t(238),q=t(96),J=t(97),R=t(100),V=t(99),W=t(449),_=(t(192),W.a.Option),H=function(e){Object(R.a)(t,e);var a=Object(V.a)(t);function t(e){var n;return Object(q.a)(this,t),(n=a.call(this,e)).validateMessages=function(){},n.state={domovi:[],post:null},n}return Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/dom")).then((function(t){a=t.data,e.setState({domovi:a})}))}},{key:"render",value:function(){var e=this,a=function(e){1===e?M.a.open({message:"Uspje\u0161na predaja",description:"Novi oglas je uspje\u0161no predan!"}):0===e&&M.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})},t=this.state.domovi.map((function(e){return o.a.createElement(_,{value:e.idDom},e.imeDoma)}));return o.a.createElement("div",null,o.a.createElement(N.a,{title:"Uredi oglas",onClose:function(){return e.props.closeHandler()},visible:this.props.visible,bodyStyle:{paddingBottom:80},width:"400px"},o.a.createElement(s.a,Object.assign({},{labelCol:{span:8}},{name:"nest-messages",onFinish:function(t){t.idOglas=e.props.idOglas,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/post"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},validateMessages:this.validateMessages}),o.a.createElement(s.a.Item,{name:"domID",rules:[{required:!0,message:"Odaberite dom!"}],initialValue:this.props.idDom},o.a.createElement(W.a,{placeholder:"Dom"},t)),o.a.createElement(s.a.Item,{name:"paviljon",rules:[{required:!0,message:"Odaberite paviljon!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=20?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 20!")}}}],initialValue:this.props.paviljon},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Paviljon"})),o.a.createElement(s.a.Item,{name:"kategorijaSobe",rules:[{required:!0,message:"Odaberite kategoriju sobe!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=7?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 7!")}}}],initialValue:this.props.kategorijaSobe},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kategorija sobe"})),o.a.createElement(s.a.Item,{name:"kat",rules:[{required:!0,message:"Odaberite kat!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=10?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 10!")}}}],initialValue:this.props.kat},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kat"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Spremi promjene")))))}}]),t}(o.a.Component),$=t(462),Z=B.a.Meta;var X=function(e){var a=Object(n.useContext)(y),t=a.info,r=(a.setInfo,Object(n.useState)(!1)),l=Object(c.a)(r,2),i=l[0],m=l[1],s="Dom: "+e.title,u=e.idOglas,p=e.kategorija_sobe,d=e.kat,E=e.paviljon,g=null;return g=e.aktivan?o.a.createElement(G.a,{color:"green"},"Aktivan oglas"):o.a.createElement(G.a,{color:"red"},"Neaktivan oglas"),o.a.createElement("div",null,o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){m(!0)}},o.a.createElement($.a,null)," uredi")]},o.a.createElement(G.a,{color:"magenta",style:{marginBottom:"10px"}},"Moja Objava"),g,o.a.createElement("br",null),o.a.createElement(Z,{title:s,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon:\xa0",E),o.a.createElement("p",null,"Kat:\xa0",d),o.a.createElement("p",null,"Kategorija sobe:\xa0",p))})),o.a.createElement(H,{visible:i,closeHandler:function(){m(!1)},idOglas:u,kat:d,paviljon:E,kategorijaSobe:p,dom:e.title,idDom:e.idDom,token:t.token}),o.a.createElement("br",null))},Y=t(450),ee=m.a.Content,ae=m.a.Footer,te=Y.a.Panel,ne=W.a.Option;function oe(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)([])),r=Object(c.a)(t,2),l=r[0],i=r[1],d=Object(n.useState)([]),E=Object(c.a)(d,2),g=E[0],v=E[1],f=Object(n.useState)([]),j=Object(c.a)(f,2),h=j[0],b=j[1],k=Object(n.useState)(0),O=Object(c.a)(k,2),x=O[0],N=O[1],S=Object(n.useState)([]),w=Object(c.a)(S,2),I=w[0],A=w[1],C=Object(n.useState)(!1),z=Object(c.a)(C,2);z[0],z[1];Object(n.useEffect)((function(){a.loggedIn&&P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/currentuser/"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){b(e.data.id)})),P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){i(e.data),v(e.data)}));var e=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/dom")).then((function(a){e=a.data,A(e)}))}),[]);var B=g.map((function(e){return a.loggedIn?e.oglas.student.id===h?o.a.createElement(X,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idDom:e.oglas.dom.idDom,aktivan:e.oglas.aktivan}):o.a.createElement(K,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,lajk:e.stupanjLajkanja,username:e.oglas.student.username,email:e.oglas.student.email}):o.a.createElement(K,{key:e.oglas.idOglas,kat:e.oglas.kat,idOglas:e.oglas.idOglas,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,username:e.oglas.student.username,email:e.oglas.student.email})})),M=s.a.useForm(),D=Object(c.a)(M,1)[0],T=I.map((function(e){return o.a.createElement(ne,{value:e.imeDoma},e.imeDoma)}));return o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(ee,{style:{padding:"0 50px"}},o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement("br",null),o.a.createElement(Y.a,{defaultActiveKey:["0"],onChange:function(){}},o.a.createElement(te,{header:"Filtriranje oglasa",key:"1"},o.a.createElement(s.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:20}},{name:"register",onFinish:function(e){if(1==x)P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/filter"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){var a,t,n;console.log(e.data),0!==e.data.paviljon&&(a=e.data.paviljon),0!==e.data.kat&&(t=e.data.kat),0!==e.data.kategorijaSobe&&(n=e.data.kategorijaSobe),D.setFieldsValue({domQuery:e.data.dom,paviljonQuery:a,katQuery:t,kategorijaSobeQuery:n})})).catch((function(e){}));else if(2==x){console.log(e);var t={dom:e.domQuery,paviljon:e.paviljonQuery,kat:e.katQuery,kategorijaSobe:e.kategorijaSobeQuery};P.a.post("".concat("https://room-switchr.herokuapp.com","/api/home/filter"),t,{headers:{Authorization:"Bearer "+a.token}}).then((function(e){})).catch((function(e){}))}else{var n=[];l.forEach((function(a){var t=[e.domQuery,e.katQuery,e.kategorijaSobeQuery,e.paviljonQuery];if("undefined"!==typeof e.domQuery||"undefined"!==typeof e.katQuery||"undefined"!==typeof e.kategorijaSobeQuery||"undefined"!==typeof e.paviljonQuery){var o=0,r=!1;t.forEach((function(t){t&&(0==o?a.oglas.dom.imeDoma.includes(e.domQuery)||(r=!0):1==o?a.oglas.kat.toString().includes(e.katQuery)||(r=!0):2==o?a.oglas.kategorijaSobe.toString().includes(e.kategorijaSobeQuery)||(r=!0):3==o&&(a.oglas.paviljon.toString().includes(e.paviljonQuery)||(r=!0))),o++})),r||n.push(a)}})),void 0!==e.paviljonQuery&&""!==e.paviljonQuery||void 0!==e.katQuery&&""!==e.katQuery||void 0!==e.kategorijaSobeQuery&&""!==e.kategorijaSobeQuery||void 0!==e.domQuery&&""!==e.domQuery||(n=l),v(n)}},form:D,initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0}),o.a.createElement(s.a.Item,{name:"domQuery",label:"Dom"},o.a.createElement(W.a,{placeholder:"Dom"},T,o.a.createElement(ne,{value:null},"Ne filtriraj prema domu"))),o.a.createElement(s.a.Item,{name:"paviljonQuery",label:"Paviljon"},o.a.createElement(u.a,null)),o.a.createElement(s.a.Item,{name:"katQuery",label:"Kat"},o.a.createElement(u.a,null)),o.a.createElement(s.a.Item,{name:"kategorijaSobeQuery",label:"Kategorija Sobe"},o.a.createElement(u.a,null)),o.a.createElement(s.a.Item,{style:{textAlign:"right"}},o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return N(3)}},"Pretra\u017ei"),a.loggedIn?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return N(2)},style:{margin:"10px"}},"Spremi filter"),o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return N(1)}},"Prika\u017ei spremljeni filter")):null)))),o.a.createElement("br",null),B,o.a.createElement("br",null))),o.a.createElement(ae,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var re=t(448),le=t(463),ie=m.a.Content,ce=m.a.Footer,me=re.a.Title;function se(){var e=Object(n.useContext)(y),a=e.info,t=e.setInfo,r=function(e){P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/currentuser"),{headers:{Authorization:"Bearer "+e}}).then((function(e){console.log("new role "+e.data.userRole),t({role:e.data.userRole}),console.log("role variable: "+a.role)}))};return Object(n.useEffect)((function(){a.token&&r(a.token)}),[]),o.a.createElement(o.a.Fragment,null,a.loggedIn&&"SC_DJELATNIK"===a.role?o.a.createElement(i.a,{to:"/scdjelatnik"}):null,a.loggedIn&&"STUDENT"===a.role?o.a.createElement(i.a,{to:"/"}):null,o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(ie,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(B.a,null,o.a.createElement(me,null,"Prijava"),o.a.createElement(s.a,{name:"normal_login",className:"login-form",onFinish:function(e){var a=function(e){1===e?(M.a.open({message:"Prijava uspje\u0161na",description:"Prebacujemo vas"}),t({loggedIn:!0})):0===e&&M.a.open({message:"Prijava neuspje\u0161na",description:"Molimo poku\u0161ajte ponovno"})};P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/signin"),e).then((function(e){var n=e.data.accessToken;t({token:n}),r(e.data.accessToken),console.log(e.data.role),a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(e){}},o.a.createElement(s.a.Item,{name:"username",rules:[{required:!0,message:"Upi\u0161i svoje korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(s.a.Item,{name:"password",rules:[{required:!0,message:"Upi\u0161i svoju lozinku!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Prijavi se"))))),o.a.createElement(ce,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var ue=m.a.Content,pe=m.a.Footer,de=re.a.Title;function Ee(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=a[1],l=function(e){1===e?M.a.open({message:"Registracija uspje\u0161na",description:"Biti \u0107ete preba\u010deni na stranicu za prijavu"}):0===e&&M.a.open({message:"Registracija neuspje\u0161na",description:"Molimo poku\u0161ajte ponovno"})};return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(i.a,{to:"/login"}):null,o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(ue,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(B.a,null,o.a.createElement(de,null,"Registracija"),o.a.createElement(s.a,{name:"normal_login",className:"login-form",onFinish:function(e){delete e.confirmPassword,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/signup"),e).then((function(e){l(1),r(!0)})).catch((function(e){l(0)}))},onFinishFailed:function(e){}},o.a.createElement(s.a.Item,{name:"username",rules:[{required:!0,message:"Upi\u0161i jedinstveno korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(s.a.Item,{name:"email",rules:[{required:!0,message:"Upi\u0161i svoj Email!"},{type:"email",message:"Neispravan unos email-a"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Email"})),o.a.createElement(s.a.Item,{name:"jmbag",rules:[{required:!0,message:"Upi\u0161i svoj JMBAG!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)?Promise.resolve():Promise.reject("Neispravan unos JMBAG-a!")}}},{min:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"},{max:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"JMBAG"})),o.a.createElement(s.a.Item,{name:"name",rules:[{required:!0,message:"Upi\u0161i svoje ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Ime i prezime"})),o.a.createElement(s.a.Item,{name:"password",rules:[{required:!0,message:"Upi\u0161i svoju lozinku!"},{min:8,message:"Potrebno najmanje 8 znakova!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(s.a.Item,{name:"confirmPassword",rules:[{required:!0,message:"Potvrdi svoju lozinku!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("Lozinke se ne podudaraju!"):Promise.resolve()}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Potvrdi lozinku"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Registriraj se"))))),o.a.createElement(pe,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var ge=re.a.Title,ve=W.a.Option,fe=function(e){Object(R.a)(t,e);var a=Object(V.a)(t);function t(e){var n;return Object(q.a)(this,t),(n=a.call(this,e)).token=n.props.token,n.state={gradovi:[],domovi:[]},n}return Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/grad")).then((function(t){a=t.data,e.setState({gradovi:a})}));var t=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/dom")).then((function(a){t=a.data,e.setState({domovi:t})}))}},{key:"render",value:function(){var e=this,a=function(e){1===e?M.a.open({message:"Uspje\u0161na predaja",description:"Novi oglas je uspje\u0161no predan!"}):0===e&&M.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})},t=(this.state.gradovi.map((function(e){return o.a.createElement(ve,{value:e.idGrada},e.imeGrada)})),this.state.domovi.map((function(e){return o.a.createElement(ve,{value:e.idDom},e.imeDoma)})));return o.a.createElement(B.a,null,o.a.createElement(ge,null,"Novi oglas"),o.a.createElement(ge,{level:4},"Opis sobe"),o.a.createElement(s.a,{name:"newPost",onFinish:function(t){P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/post"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(e){}},o.a.createElement(s.a.Item,{name:"domID",rules:[{required:!0,message:"Odaberite dom!"}]},o.a.createElement(W.a,{placeholder:"Dom"},t)),o.a.createElement(s.a.Item,{name:"paviljon",rules:[{required:!0,message:"Odaberite paviljon!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=20?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 20!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Paviljon"})),o.a.createElement(s.a.Item,{name:"kategorijaSobe",rules:[{required:!0,message:"Odaberite kategoriju sobe!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=7?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 7!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kategorija sobe"})),o.a.createElement(s.a.Item,{name:"kat",rules:[{required:!0,message:"Odaberite kat!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)&&a>=1&&a<=10?Promise.resolve():Promise.reject("Upi\u0161ite broj od 1 do 10!")}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"Kat"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Predaj oglas"))))}}]),t}(o.a.Component),je=m.a.Content,he=m.a.Footer;function be(){var e=Object(n.useContext)(y),a=e.info;e.setInfo;return o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(je,{className:"site-layout-content",style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(fe,{token:a.token})),o.a.createElement(he,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var ke=t(165),ye=t.n(ke),Oe=(W.a.Option,function(e){Object(R.a)(t,e);var a=Object(V.a)(t);function t(e){var n;return Object(q.a)(this,t),(n=a.call(this,e)).validateMessages=function(){},n.state={},n}return Object(J.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=function(e){1===e?M.a.open({message:"Uspje\u0161no a\u017euriranje",description:"Novi podatci su uspje\u0161no predani!"}):0===e&&M.a.open({message:"Neuspje\u0161na predaja",description:"Molimo poku\u0161ajte ponovno."})};return o.a.createElement("div",null,o.a.createElement(N.a,{title:"Uredi korisni\u010dke podatke",onClose:function(){return e.props.closeHandler()},visible:this.props.visible,bodyStyle:{paddingBottom:80},width:"400px"},o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{name:"normal_login",className:"login-form",onFinish:function(t){t.id=e.props.id,t.password="12345678",P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/currentuser"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))},onFinishFailed:function(){}},o.a.createElement(s.a.Item,{name:"username",initialValue:this.props.username,rules:[{required:!0,message:"Upi\u0161i jedinstveno korisni\u010dko ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Korisni\u010dko ime"})),o.a.createElement(s.a.Item,{name:"email",initialValue:this.props.email,rules:[{required:!0,message:"Upi\u0161i svoj Email!"},{type:"email",message:"Neispravan unos email-a"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Email"})),o.a.createElement(s.a.Item,{name:"jmbag",initialValue:this.props.jmbag,rules:[{required:!0,message:"Upi\u0161i svoj JMBAG!"},function(e){e.getFieldValue;return{validator:function(e,a){return""===a||/^[0-9\b]+$/.test(a)?Promise.resolve():Promise.reject("Neispravan unos JMBAG-a!")}}},{min:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"},{max:10,message:"JMBAG mora sadr\u017eavati 10 brojeva!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"JMBAG"})),o.a.createElement(s.a.Item,{name:"name",initialValue:this.props.name,rules:[{required:!0,message:"Upi\u0161i svoje ime!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"Ime i prezime"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"A\u017euriraj podatke"))),o.a.createElement(ye.a,{level:3},"A\u017euriraj lozinku"),o.a.createElement(s.a,{name:"normal_login",className:"login-form",onFinish:function(t){t.id=e.props.id,t.username=e.props.username,t.name=e.props.name,t.email=e.props.email,t.jmbag=e.props.jmbag,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/changePassword"),t,{headers:{Authorization:"Bearer "+e.props.token}}).then((function(e){a(1)})).catch((function(e){a(0)}))}},o.a.createElement(s.a.Item,{name:"password",rules:[{required:!1,message:"Upi\u0161i svoju lozinku!"},{min:8,message:"Potrebno najmanje 8 znakova!"}]},o.a.createElement(u.a,{prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Lozinka"})),o.a.createElement(s.a.Item,{name:"confirmPassword",rules:[{required:!1,message:"Potvrdi svoju lozinku!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("Lozinke se ne podudaraju!"):Promise.resolve()}}}]},o.a.createElement(u.a,{prefix:o.a.createElement(le.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Potvrdi lozinku"})),o.a.createElement(s.a.Item,null,o.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"A\u017euriraj lozinku"))))))}}]),t}(o.a.Component)),xe=m.a.Content,Ne=m.a.Footer,Se=re.a.Title;function we(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)(!1)),r=Object(c.a)(t,2),l=r[0],i=r[1],s=Object(n.useState)(null),u=Object(c.a)(s,2),p=u[0],d=u[1],E=Object(n.useState)(null),g=Object(c.a)(E,2),v=g[0],f=g[1],j=Object(n.useState)(null),h=Object(c.a)(j,2),b=h[0],k=h[1],O=Object(n.useState)(null),x=Object(c.a)(O,2),N=x[0],S=x[1],w=Object(n.useState)(null),I=Object(c.a)(w,2),A=I[0],C=I[1];return Object(n.useEffect)((function(){P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/currentuser"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){d(e.data.username),f(e.data.name),k(e.data.jmbag),S(e.data.email),C(e.data.id)}))}),[]),o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(xe,null,o.a.createElement("br",null),o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){i(!0)}},o.a.createElement($.a,null)," uredi")]},o.a.createElement(Se,null,"Moj profil"),o.a.createElement("br",null),o.a.createElement("p",null,"Korisni\u010dko ime: ",p),o.a.createElement("p",null,"Email: ",N),o.a.createElement("p",null,"Ime i prezime: ",v),o.a.createElement("p",null,"JMBAG: ",b)),o.a.createElement(Oe,{visible:l,closeHandler:function(){i(!1)},username:p,name:v,email:N,jmbag:b,id:A,token:a.token})),o.a.createElement(Ne,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var Ie=m.a.Content,Pe=m.a.Footer,Fe=re.a.Title;u.a.TextArea,W.a.Option;function Ae(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)([])),r=Object(c.a)(t,2),l=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2);u[0],u[1];Object(n.useEffect)((function(){P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/vlastitiOglasi"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){e.data,i(e.data)}))}),[]);return o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(Ie,null,o.a.createElement("br",null),o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(Fe,{level:3},"Moji oglasi"),o.a.createElement(d.b,{to:"/newpost"},o.a.createElement(p.a,{type:"primary"},"Stvori novi oglas",o.a.createElement($.a,null)))),o.a.createElement("br",null),l.map((function(e){return o.a.createElement(X,{key:e.idOglas,kat:e.kat,idOglas:e.idOglas,paviljon:e.paviljon,kategorija_sobe:e.kategorijaSobe,title:e.dom.imeDoma,idDom:e.dom.idDom,aktivan:e.aktivan})})),o.a.createElement("br",null)),o.a.createElement(Pe,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var Ce=t(172),ze=m.a.Content,Be=m.a.Footer,Me=re.a.Title;u.a.TextArea,W.a.Option;function De(){var e={columns:1,fields:[{key:"izvuc grad",label:"Grad",requried:!0}]};return o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(ze,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(B.a,null,o.a.createElement(Me,null,"Moji oglasi \xa0\xa0\xa0\xa0",o.a.createElement(d.b,{to:"/newpost"},o.a.createElement(p.a,{type:"primary"},"Stvori novi oglas",o.a.createElement($.a,null)))),o.a.createElement(B.a,null,o.a.createElement("h3",null,"AKTIVAN OGLAS"),o.a.createElement(Ce.a,{name:"aktivan_oglas",meta:e,values:{},viewMode:!0}),o.a.createElement(d.b,{to:"/editpost",value:e.fields.key},o.a.createElement(p.a,{type:"primary",style:{padding:"5px"}},"Uredi",o.a.createElement($.a,null)))),o.a.createElement("br",null),o.a.createElement(B.a,null,o.a.createElement(Ce.a,{name:"neaktivan_oglas",meta:e,values:{},viewMode:!0}),o.a.createElement(d.b,{to:"/editpost",value:e.fields.key},o.a.createElement(p.a,{type:"primary",style:{padding:"5px"}},"Uredi",o.a.createElement($.a,null)))),o.a.createElement("br",null))),o.a.createElement(Be,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var Te=t(464),Ue=t(465),Le=B.a.Meta;t(191);var Qe=function(e){var a="Dom: "+e.title,t=e.idOglas,r=e.kategorija_sobe,l=e.kat,i=e.paviljon,m=e.idLanac,s=Object(n.useContext)(y),u=s.info,p=(s.setInfo,Object(n.useState)()),d=Object(c.a)(p,2),E=(d[0],d[1],Object(n.useState)(!1)),g=Object(c.a)(E,2),v=(g[0],g[1]),f=Object(n.useState)(!1),j=Object(c.a)(f,2),h=(j[0],j[1]),b=Object(n.useState)(!1),k=Object(c.a)(b,2),O=(k[0],k[1]),x=function(){M.a.error({message:"Gre\u0161ka",description:"Do\u0161lo je do gre\u0161ke prilikom potvrde zamjene."})},N=function(){var e=Object(z.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idLanca:m},e.prev=1,e.next=4,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/potvrdiZamjenu"),t,{headers:{Authorization:"Bearer "+u.token}}).then((function(e){console.log(e.data),M.a.open({message:"Uspje\u0161no potvr\u0111ena zamjena",description:"Ukoliko se zamjena bude uspje\u0161na dobiti \u0107ete mail sa potvrdom o uspje\u0161noj zamjeni"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),x();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(z.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idLanca:m},e.prev=1,e.next=4,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/odbijZamjenu"),t,{headers:{Authorization:"Bearer "+u.token}}).then((function(e){console.log(e.data),M.a.open({message:"Uspje\u0161no odba\u010dena zamjena"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),x();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a;1==(a=e.lajk)&&v(!0),2==a&&h(!0),3==a&&O(!0)}),[]),o.a.createElement("div",null,u.loggedIn?o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"},actions:[o.a.createElement("div",{onClick:function(){return N(t)}},o.a.createElement(Te.a,null)," Potvrdi"),o.a.createElement("div",{onClick:function(){return S(t)}},o.a.createElement(Ue.a,null)," Odbij")]},o.a.createElement(Le,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon:",i),o.a.createElement("p",null,"Kat:",l),o.a.createElement("p",null,"Kategorija sobe:",r))})):o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto"}},o.a.createElement(Le,{title:a,description:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Paviljon: ",i),o.a.createElement("p",null,"Kat: ",l),o.a.createElement("p",null,"Kategorija sobe: ",r))})),o.a.createElement("br",null))},Ke=m.a.Content,Ge=m.a.Footer;function qe(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)([])),r=Object(c.a)(t,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){!function(){var e=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/zamjene"),{headers:{Authorization:"Bearer "+a.token}}).then((function(a){e=a.data,i(e)}))}()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(Ke,{style:{padding:"0 50px"}},o.a.createElement("br",null),0!=l.length?l.map((function(e){return o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement(Qe,{key:e.oglas.idOglas,idOglas:e.oglas.idOglas,kat:e.oglas.kat,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idLanac:e.idLanca,username:e.oglas.student.username,email:e.oglas.student.email}),o.a.createElement("br",null))})):o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto",textAlign:"center"}},o.a.createElement("p",null,"Nema oglasa za prikaz."))),o.a.createElement(Ge,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}var Je=m.a.Content,Re=m.a.Footer,Ve=re.a.Title;function We(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)([])),r=Object(c.a)(t,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){!function(){var e=[];P.a.get("".concat("https://room-switchr.herokuapp.com","/api/home/oglasiStudenataKojiSuLajkali"),{headers:{Authorization:"Bearer "+a.token}}).then((function(a){e=a.data,i(e)}))}()}),[]),o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(Je,null,o.a.createElement("br",null),o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto",padding:"2em"}},o.a.createElement(Ve,{level:3},'Oglasi osoba koje su ozna\u010dile va\u0161 oglas sa "svi\u0111a mi se"')),o.a.createElement("br",null),0!=l.length?l.map((function(e){return o.a.createElement(K,{key:e.oglas.idOglas,kat:e.oglas.kat,paviljon:e.oglas.paviljon,kategorija_sobe:e.oglas.kategorijaSobe,title:e.oglas.dom.imeDoma,idOglas:e.oglas.idOglas,lajk:e.stupanjLajkanja,username:e.oglas.student.username,email:e.oglas.student.email})})):o.a.createElement(B.a,{style:{maxWidth:"720px",margin:"auto",textAlign:"center"}},o.a.createElement("p",null,"Nema oglasa za prikaz.")),o.a.createElement("br",null)),o.a.createElement(Re,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI"))}var _e=m.a.Content,He=m.a.Footer;function $e(){var e=Object(n.useContext)(y),a=e.info,t=(e.setInfo,Object(n.useState)([])),r=Object(c.a)(t,2),l=r[0],i=r[1],s=function(){var e=Object(z.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idLanca:t},e.prev=1,e.next=4,P.a.post("".concat("https://room-switchr.herokuapp.com","/api/v1/potvrdiZamjenu"),n,{headers:{Authorization:"Bearer "+a.token}}).then((function(e){console.log(e.data),M.a.open({message:"Uspje\u0161no potvr\u0111ena zamjena",description:"Ukoliko se zamjena bude uspje\u0161na dobiti \u0107ete mail sa potvrdom o uspje\u0161noj zamjeni"}),u()}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),u=function(){P.a.get("".concat("https://room-switchr.herokuapp.com","/api/v1/zamjene"),{headers:{Authorization:"Bearer "+a.token}}).then((function(e){var a=[],t=[];0===e.data.length||(e.data.forEach((function(e){a.includes(e.idLanca)||(a.push(e.idLanca),t.push({idLanca:e.idLanca,oglasi:[]}))})),e.data.forEach((function(e){for(var a=0;a<t.length;a++)t[a].idLanca==e.idLanca&&t[a].oglasi.push(e.oglas)})),i(t))}))},p=Object.keys(l).map((function(e){return o.a.createElement(B.a,{title:l[e].idLanca,bordered:!1,style:{maxWidth:"720px",margin:"auto",width:"100%"},actions:[o.a.createElement("div",{onClick:function(){return s(l[e].idLanca)}},o.a.createElement(Te.a,null)," Potvrdi")]},l[e].oglasi.map((function(e){return o.a.createElement("div",{style:{borderBottom:"2px solid #f0f0f0",marginBottom:"10px"}},o.a.createElement("h3",null,"Student"),o.a.createElement("p",null,"ime: ",e.student.name),o.a.createElement("p",null,"email: ",e.student.email),o.a.createElement("p",null,"JMBAG: ",e.student.jmbag),o.a.createElement("br",null),o.a.createElement("h3",null,"Soba"),o.a.createElement("p",null,"Dom: ",e.dom.imeDoma),o.a.createElement("p",null,"Paviljon: ",e.paviljon),o.a.createElement("p",null,"Kat: ",e.kat),o.a.createElement("p",null,"Kategorija sobe: ",e.kategorijaSobe),o.a.createElement("br",null))})))}));return Object(n.useEffect)((function(){u()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:"layout",style:{minHeight:"100vh"}},o.a.createElement(F,null),o.a.createElement(_e,{style:{padding:"0 50px"}},o.a.createElement("div",{className:"site-layout-content",style:{maxWidth:"720px",margin:"0 auto"}},o.a.createElement("br",null))),p,o.a.createElement(He,{style:{textAlign:"center"}},"PiccoloGrupa \xa9 2020 FER PI")))}t(210);function Ze(){t(210).config();var e=function(){return o.a.createElement("div",null,o.a.createElement(O,null,o.a.createElement(i.b,{exact:!0,path:"/",component:oe}),o.a.createElement(i.b,{exact:!0,path:"/login",component:se}),o.a.createElement(i.b,{exact:!0,path:"/register",component:Ee}),o.a.createElement(i.b,{exact:!0,path:"/myposts",component:Ae}),o.a.createElement(i.b,{exact:!0,path:"/newpost",component:be}),o.a.createElement(i.b,{exact:!0,path:"/editpost",component:De}),o.a.createElement(i.b,{exact:!0,path:"/profile",component:we}),o.a.createElement(i.b,{exact:!0,path:"/confirmswap",component:qe}),o.a.createElement(i.b,{exact:!0,path:"/recievedlikesposts",component:We}),o.a.createElement(i.b,{exact:!0,path:"/scdjelatnik",component:$e})))};return o.a.createElement(i.d,{basename:""},o.a.createElement(e,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(443);l.a.render(o.a.createElement(d.a,null,o.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[240,1,2]]]);
//# sourceMappingURL=main.d1d35457.chunk.js.map